JMP start
	min: DB 0 ; Variable
	max: DB 9 ; Variable
	maxReloj: DB 5 ; Variable el primer digito de 59

start:

    MOV D, 232    ; Point to output
    MOV [D], 48    ; imprimir 00:00 
    INC D
    MOV [D], 48
    INC D
    MOV [D], 58
    INC D
    MOV [D], 48
    INC D
    MOV [D], 48

prepare: 
	MOV B, [max]
     	ADD B, 1
Seg1:
    MOV A, C
    ADD A, 48
    MOV [D], A    ; Write to output
    INC C
    CMP B, C    ; Check if 9
    JNZ Seg1    ; jump if not
    DEC D 
    MOV A,[D]
    MOV B, [maxReloj]
    ADD B, 48
    CMP B, A    ; Check if end
    JZ Min        ; jump if end

Seg2:
    ADD A, 1
    MOV [D], A
    INC D
    MOV [D], 48
    MOV C, [min]
    JNZ prepare
Min:
    DEC D 
    DEC D 
    MOV A,[D]
    MOV B, [max]
    ADD B, 48
    CMP B, A    ; Check if end
    JZ Min2
    ADD A, 1
    MOV [D], A
    JMP BACK
Min2:
    DEC D
    MOV A,[D]
    MOV B, [maxReloj]
    ADD B, 48
    CMP B, A    ; Check if end
    JZ End
    ADD A, 1
    MOV [D], A
    INC D
    MOV [D], 48
    JMP BACK


BACK:
    INC D        ; Regresa a los segundos
    INC D
    MOV [D], 48
    INC D
    MOV C, [min]
    JMP prepare

End:
    HLT